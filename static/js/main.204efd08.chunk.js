(this["webpackJsonpmovie-app"]=this["webpackJsonpmovie-app"]||[]).push([[0],{16:function(e,t,c){},17:function(e,t,c){"use strict";c.r(t);var n=c(1),i=c(2),s=c(9),r=c.n(s),l=(c(16),c(4)),a=c(5),o=Object(i.createContext)(),j=function(e){var t=Object(i.useState)(0),c=Object(l.a)(t,2),s=c[0],r=c[1],j=Object(i.useState)([]),d=Object(l.a)(j,2),b=d[0],u=d[1],h=Object(i.useState)([]),O=Object(l.a)(h,2),m=O[0],x=O[1],p=function(e){return r(s-Number(e))};return Object(n.jsx)(o.Provider,{value:{movies:b,setMovies:u,totalPrice:s,setTotalPrice:r,completedMovies:m,completedMovieTask:function(e,t,c){if(c){var n=m.filter((function(t){return t.id===e})),i=m.filter((function(t){return t.id!==e})),l=Object.assign.apply(Object,[{}].concat(Object(a.a)(n),[{completed:!1}]));u((function(e){return[].concat(Object(a.a)(e),[l])})),x(i),function(e){r(s+Number(e))}(t)}else{var o=b.filter((function(t){return t.id!==e})),j=b.filter((function(t){return t.id===e})),d=Object.assign.apply(Object,[{}].concat(Object(a.a)(j),[{completed:!0}]));u(o),x((function(e){return[].concat(Object(a.a)(e),[d])})),p(t)}},deleteMovie:function(e,t,c){if(c){var n=m.filter((function(t){return t.id!==e}));x(n)}else{var i=b.filter((function(t){return t.id!==e}));u(i),p(t)}}},children:e.children})},d=c(3),b={paddingTop:"7px",textDecorationLine:"line-through",color:"gray"},u={paddingTop:"7px",textDecorationLine:"none",color:"black",vertitalAlgign:"center"},h=function(e){var t=e.name,c=e.price,s=e.id,r=e.completed,l=Object(i.useContext)(o),a=l.deleteMovie,j=l.completedMovieTask;return Object(n.jsxs)("div",{className:"movie-list",children:[Object(n.jsx)("div",{children:Object(n.jsxs)("button",{className:"btn btn-light",onClick:function(){return j(s,c,r)},children:[" ",r?Object(n.jsx)(d.d,{}):Object(n.jsx)(d.a,{})]})}),Object(n.jsx)("div",{style:r?b:u,children:t}),Object(n.jsxs)("div",{style:r?b:u,children:["$",c]}),Object(n.jsx)("div",{children:Object(n.jsx)("button",{className:"btn btn-light",onClick:function(){return a(s,c,r)},children:Object(n.jsx)(d.b,{})})})]})},O=function(){var e=Object(i.useState)(!1),t=Object(l.a)(e,2),c=t[0],s=t[1],r=Object(i.useContext)(o),a=r.movies,j=r.completedMovies;return Object(n.jsxs)("div",{children:[a.length>0?a.map((function(e){return Object(n.jsx)(h,{name:e.name,price:e.price,id:e.id,completed:e.completed},e.id)})):j.length>0?"":Object(n.jsx)("p",{className:"d-flex justify-content-center my-10",children:"No movies"}),j.length>0?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"d-flex justify-content-center my-10",children:Object(n.jsxs)("button",{className:"btn btn-success",onClick:function(){return s(!c)},children:[c?"Hide":"Show "," completed"]})}),c?j.map((function(e){return Object(n.jsx)(h,{name:e.name,price:e.price,id:e.id,completed:e.completed},e.id)})):""]}):""]})},m=c(10),x=function(){var e=Object(i.useContext)(o),t=e.movies,c=e.totalPrice,s=e.completedMovies;return Object(n.jsxs)("div",{className:"d-flex bd-highlight mb-3 navbar",children:[Object(n.jsx)("div",{className:"mr-auto p-2 bd-highlight",children:Object(n.jsxs)("p",{children:[Object(n.jsx)(d.c,{})," ",Object(n.jsx)("strong",{children:"Movie todo app"})]})}),Object(n.jsx)("div",{className:"p-2 bd-highlight",children:Object(n.jsxs)("p",{children:[Object(n.jsx)(d.d,{}),Object(n.jsxs)("strong",{children:["  ",s.length]})]})}),Object(n.jsx)("div",{className:"p-2 bd-highlight",children:Object(n.jsxs)("p",{children:[Object(n.jsx)(d.a,{}),Object(n.jsxs)("strong",{children:["  ",t.length]})]})}),Object(n.jsx)("div",{className:"p-2 bd-highlight",children:Object(n.jsxs)("p",{children:[Object(n.jsx)(m.a,{}),Object(n.jsxs)("strong",{children:["  ",c]})]})})]})},p=function(){var e=Object(i.useContext)(o),t=e.setMovies,c=e.totalPrice,s=e.setTotalPrice,r=Object(i.useState)(""),j=Object(l.a)(r,2),b=j[0],u=j[1],h=Object(i.useState)(""),O=Object(l.a)(h,2),m=O[0],x=O[1];return Object(n.jsx)("form",{onSubmit:function(e){e.preventDefault(),t((function(e){return[].concat(Object(a.a)(e),[{name:b,price:m,id:Math.floor(1e3*Math.random()),completed:!1}])})),s(c+ +m),u(""),x("")},children:Object(n.jsxs)("div",{className:"d-flex bd-highlight",children:[Object(n.jsx)("div",{className:"p-2 flex-grow-1 bd-highlight",children:Object(n.jsx)("input",{type:"text",className:"form-control",placeholder:"Name of movie",value:b,onChange:function(e){u(e.target.value)},maxLength:"70",required:!0})}),Object(n.jsx)("div",{className:"p-2 bd-highlight",children:Object(n.jsx)("input",{type:"number",className:"form-control",placeholder:"Price",value:m,onChange:function(e){x(e.target.value)},min:"0",max:"10000",required:!0})}),Object(n.jsx)("div",{className:"p-2 bd-highlight",children:Object(n.jsx)("button",{type:"submit",className:"btn btn-light",children:Object(n.jsx)(d.e,{})})})]})})};var v=function(){return Object(n.jsx)(j,{children:Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)(x,{}),Object(n.jsx)(p,{}),Object(n.jsx)(O,{})]})})};r.a.render(Object(n.jsx)(v,{}),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.204efd08.chunk.js.map