(this["webpackJsonpmovie-app"]=this["webpackJsonpmovie-app"]||[]).push([[0],{13:function(e,t,c){},14:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c(1),i=c(7),s=c.n(i),o=(c(13),c(2)),a=c(3),l=Object(r.createContext)(),j=function(e){var t=Object(r.useState)(0),c=Object(o.a)(t,2),i=c[0],s=c[1],j=Object(r.useState)([]),d=Object(o.a)(j,2),b=d[0],u=d[1],m=Object(r.useState)([]),O=Object(o.a)(m,2),h=O[0],x=O[1],p=function(e){return s(i-Number(e))};return Object(n.jsx)(l.Provider,{value:{movies:b,setMovies:u,totalPrice:i,setTotalPrice:s,completedMovies:h,completedMovieTask:function(e,t,c){if(c){var n=h.filter((function(t){return t.id===e})),r=h.filter((function(t){return t.id!==e})),o=Object.assign.apply(Object,[{}].concat(Object(a.a)(n),[{completed:!1}]));u((function(e){return[].concat(Object(a.a)(e),[o])})),x(r),function(e){s(i+Number(e))}(t)}else{var l=b.filter((function(t){return t.id!==e})),j=b.filter((function(t){return t.id===e})),d=Object.assign.apply(Object,[{}].concat(Object(a.a)(j),[{completed:!0}]));u(l),x((function(e){return[].concat(Object(a.a)(e),[d])})),p(t)}},deleteMovie:function(e,t,c){if(c){var n=h.filter((function(t){return t.id!==e}));x(n)}else{var r=b.filter((function(t){return t.id!==e}));u(r),p(t)}}},children:e.children})},d={textDecorationLine:"line-through",color:"gray"},b={textDecorationLine:"none"},u=function(e){var t=e.name,c=e.price,i=e.id,s=e.completed,o=Object(r.useContext)(l),a=o.deleteMovie,j=o.completedMovieTask;return Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:Object(n.jsx)("input",{type:"checkbox",checked:s,onChange:function(){return j(i,c,s)}})}),Object(n.jsx)("td",{style:s?d:b,children:t}),Object(n.jsxs)("td",{style:s?d:b,children:["$",c]}),Object(n.jsx)("td",{children:Object(n.jsx)("button",{type:"button",className:"btn btn-danger small btn-sm",onClick:function(){return a(i,c,s)},children:"\xd7"})})]})},m=function(){var e=Object(r.useState)(!1),t=Object(o.a)(e,2),c=t[0],i=t[1],s=Object(r.useContext)(l),a=s.movies,j=s.completedMovies;return Object(n.jsx)("div",{children:Object(n.jsxs)("table",{className:"table text-center small",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{style:{width:"10%"},children:"Status"}),Object(n.jsx)("th",{style:{width:"70%"},children:"Name"}),Object(n.jsx)("th",{style:{width:"15%"},children:"Price"}),Object(n.jsx)("th",{style:{width:"5%"},children:"Delete"})]})}),Object(n.jsxs)("tbody",{children:[a.map((function(e){return Object(n.jsx)(u,{name:e.name,price:e.price,id:e.id,completed:e.completed},e.id)})),j.length>0?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("button",{className:"btn btn-primary",onClick:function(){return i(!c)},children:c?"Hide":"Show"}),c?j.map((function(e){return Object(n.jsx)(u,{name:e.name,price:e.price,id:e.id,completed:e.completed},e.id)})):""]}):""]})]})})},O=function(){var e=Object(r.useContext)(l),t=e.movies,c=e.totalPrice,i=e.completedMovies;return Object(n.jsxs)("div",{className:"navbar",children:[Object(n.jsxs)("p",{children:["Completed: ",Object(n.jsx)("strong",{children:i.length})]}),Object(n.jsxs)("p",{children:["Not completed: ",Object(n.jsx)("strong",{children:t.length})]}),Object(n.jsxs)("p",{children:["Total price: ",Object(n.jsxs)("strong",{children:[c,"$"]})]})]})},h=function(){var e=Object(r.useContext)(l),t=e.setMovies,c=e.totalPrice,i=e.setTotalPrice,s=Object(r.useState)(""),j=Object(o.a)(s,2),d=j[0],b=j[1],u=Object(r.useState)(""),m=Object(o.a)(u,2),O=m[0],h=m[1];return Object(n.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t((function(e){return[].concat(Object(a.a)(e),[{name:d,price:O,id:Math.floor(1e3*Math.random()),completed:!1}])})),i(c+ +O),b(""),h("")},children:[Object(n.jsx)("div",{className:"form-row",children:Object(n.jsx)("div",{className:"col-md-12 mb-1",children:Object(n.jsx)("input",{type:"text",className:"form-control",placeholder:"Name of movie",value:d,onChange:function(e){b(e.target.value)},maxLength:"40",required:!0})})}),Object(n.jsxs)("div",{className:"form-row",children:[Object(n.jsx)("div",{className:"col-md-3 mb-2",children:Object(n.jsx)("input",{type:"number",className:"form-control",placeholder:"Price",value:O,onChange:function(e){h(e.target.value)},min:"1",required:!0})}),Object(n.jsx)("div",{class:"col-md-3 mb-2",children:Object(n.jsx)("button",{type:"submit",className:"btn btn-dark",children:"+"})})]})]})};var x=function(){return Object(n.jsx)(j,{children:Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)(O,{}),Object(n.jsx)(h,{}),Object(n.jsx)(m,{})]})})};s.a.render(Object(n.jsx)(x,{}),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.2f9eff73.chunk.js.map